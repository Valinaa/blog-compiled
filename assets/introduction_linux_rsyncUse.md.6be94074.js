import{_ as s,o as a,c as l,O as n}from"./chunks/framework.7d066bc9.js";const u=JSON.parse('{"title":"rsync命令使用文档","description":"rsync是一个用于文件传输和备份的命令行工具, 它可以在本地或远程机器之间同步和复制文件。rsync具有高效、快速和灵活的特点，常用于数据备份、文件同步和远程文件传输等场景。","frontmatter":{"title":"rsync命令使用文档","description":"rsync是一个用于文件传输和备份的命令行工具, 它可以在本地或远程机器之间同步和复制文件。rsync具有高效、快速和灵活的特点，常用于数据备份、文件同步和远程文件传输等场景。","readingTime":true,"comment":true,"date":"2023-06-03T00:00:00.000Z","tag":["教程"],"tags":["文件处理"],"categories":["Linux"],"sticky":9,"top":6,"recommend":5},"headers":[],"relativePath":"introduction/linux/rsyncUse.md","filePath":"introduction/linux/rsyncUse.md","lastUpdated":null}'),e={name:"introduction/linux/rsyncUse.md"},o=n(`<h2 id="基本格式" tabindex="-1">基本格式 <a class="header-anchor" href="#基本格式" aria-label="Permalink to &quot;基本格式&quot;">​</a></h2><h3 id="rsync命令的基本格式有以下几种" tabindex="-1">rsync命令的基本格式有以下几种 <a class="header-anchor" href="#rsync命令的基本格式有以下几种" aria-label="Permalink to &quot;rsync命令的基本格式有以下几种&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 本地备份数据</span></span>
<span class="line"><span style="color:#FFCB6B;">rsync</span><span style="color:#A6ACCD;"> [OPTION] SRC DEST</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 将本地数据备份到远程机器</span></span>
<span class="line"><span style="color:#FFCB6B;">rsync</span><span style="color:#A6ACCD;"> [OPTION] SRC </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">USER@</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">HOST:DEST</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 将远程机器上的数据备份到本地机器</span></span>
<span class="line"><span style="color:#FFCB6B;">rsync</span><span style="color:#A6ACCD;"> [OPTION] </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">USER@</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">HOST:SRC DEST</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 使用rsync协议将远程机器上的数据备份到本地机器</span></span>
<span class="line"><span style="color:#FFCB6B;">rsync</span><span style="color:#A6ACCD;"> [OPTION] </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">USER@</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">HOST::SRC DEST</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 使用rsync协议将本地数据备份到远程机器</span></span>
<span class="line"><span style="color:#FFCB6B;">rsync</span><span style="color:#A6ACCD;"> [OPTION] SRC </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">USER@</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">HOST::DEST</span></span></code></pre></div><blockquote><p>注意：rsync在远程传输数据前需要进行登陆认证，可使用 <code>ssh</code> 协议或 <code>rsync</code> 协议完成。使用单个冒号（:）默认使用ssh协议，使用两个冒号（::）使用rsync协议</p></blockquote><h2 id="工作模式" tabindex="-1">工作模式 <a class="header-anchor" href="#工作模式" aria-label="Permalink to &quot;工作模式&quot;">​</a></h2><p>rsync有以下五种不同的工作模式：</p><ol><li>本地备份数据 <ul><li>仅在本地备份数据，不涉及远程机器</li></ul></li><li>本地数据备份到远程机器 <ul><li>将本地数据备份到远程机器上</li></ul></li><li>远程机器数据备份到本地机器 <ul><li>将远程机器上的数据备份到本地机器上</li></ul></li><li>远程机器数据备份到本地机器（rsync协议） <ul><li>使用rsync协议将远程机器上的数据备份到本地机器上</li></ul></li><li>本地数据备份到远程机器（rsync协议） <ul><li>使用 <code>rsync</code> 协议将本地数据备份到远程机器上</li></ul></li></ol><blockquote><p>这些模式的区别在于登陆认证时使用的验证方式不同</p></blockquote><h2 id="参数说明" tabindex="-1">参数说明 <a class="header-anchor" href="#参数说明" aria-label="Permalink to &quot;参数说明&quot;">​</a></h2><p>rsync命令中的参数含义如下：</p><ul><li><code>SRC</code>：要备份的目标数据所在的位置（路径）</li><li><code>DEST</code>：将数据备份到的位置</li><li><code>USER@</code>：远程同步操作时的系统登录用户名，默认为 <code>root</code></li><li><code>OPTION</code>：可选参数，用于控制 <code>rsync</code>的具体行为</li></ul><h2 id="常用选项示例" tabindex="-1">常用选项示例 <a class="header-anchor" href="#常用选项示例" aria-label="Permalink to &quot;常用选项示例&quot;">​</a></h2><h3 id="a" tabindex="-1"><code>-a</code> <a class="header-anchor" href="#a" aria-label="Permalink to &quot;\`-a\`&quot;">​</a></h3><p>使用 <code>-a</code> 选项实现目录之间的同步备份，示例：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 同步备份test1目录到test2目录</span></span>
<span class="line"><span style="color:#FFCB6B;">rsync</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test1/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test2/</span></span></code></pre></div><blockquote><p>注意：为避免新建了test2目录并将test1放入其中，需在目标目录添加斜杠(/)</p></blockquote><h3 id="delete" tabindex="-1"><code>--delete</code> <a class="header-anchor" href="#delete" aria-label="Permalink to &quot;\`--delete\`&quot;">​</a></h3><p>使用 <code>--delete</code> 选项删除目标目录中源目录中不存在的文件，示例：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 删除test1/123.txt文件</span></span>
<span class="line"><span style="color:#FFCB6B;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-f</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test1/123.txt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 同步备份test1目录到test2目录（含删除操作）</span></span>
<span class="line"><span style="color:#FFCB6B;">rsync</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-av</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--delete</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test1/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test2/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看test2目录内容</span></span>
<span class="line"><span style="color:#FFCB6B;">ls</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test2/</span></span></code></pre></div><blockquote><p>注意：使用--delete选项进行同步备份时，如果源目录发生变化，目标目录也会相应变化</p></blockquote><h3 id="其它指令" tabindex="-1">其它指令 <a class="header-anchor" href="#其它指令" aria-label="Permalink to &quot;其它指令&quot;">​</a></h3><p>可使用 <code>man rsync</code> 查看所有选项及help信息</p>`,22),t=[o];function c(p,r,i,y,d,C){return a(),l("div",null,t)}const D=s(e,[["render",c]]);export{u as __pageData,D as default};
